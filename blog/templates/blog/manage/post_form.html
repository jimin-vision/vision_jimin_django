{% extends "blog/manage/base.html" %}

{% block manage_content %}
<div class="surface p-4">
  <h2 class="h5 fw-bold mb-3">{% if is_edit %}글 수정{% else %}새 글 작성{% endif %}</h2>
  <form method="post">
    {% csrf_token %}
    {% if form.non_field_errors %}
      <div class="alert alert-danger">{{ form.non_field_errors }}</div>
    {% endif %}
    <div class="mb-3">
      <label class="form-label" for="{{ form.title.id_for_label }}">{{ form.title.label }}</label>
      {{ form.title }}
      {% if form.title.errors %}
        <div class="text-danger small mt-1">{{ form.title.errors }}</div>
      {% endif %}
    </div>
    <div class="mb-3">
      <label class="form-label" for="{{ form.content.id_for_label }}">{{ form.content.label }}</label>
      {{ form.content }}
      {% if form.content.errors %}
        <div class="text-danger small mt-1">{{ form.content.errors }}</div>
      {% endif %}
    </div>
    <div class="mb-4">
      <label class="form-label" for="{{ form.status.id_for_label }}">{{ form.status.label }}</label>
      {{ form.status }}
      {% if form.status.errors %}
        <div class="text-danger small mt-1">{{ form.status.errors }}</div>
      {% endif %}
    </div>
    <div class="d-flex flex-wrap gap-2">
      <button class="btn btn-primary" type="submit">저장</button>
      <a class="btn btn-outline-secondary" href="{% url 'manage_post_list' %}">목록으로</a>
      {% if is_edit %}
        <a class="btn btn-outline-danger" href="{% url 'manage_post_delete' post.pk %}">삭제</a>
      {% endif %}
    </div>
  </form>
</div>
{% endblock %}
