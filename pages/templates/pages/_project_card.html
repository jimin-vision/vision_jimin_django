<div class="col">
  <div class="surface h-100 p-4 d-flex flex-column">
    <div class="small text-uppercase text-secondary mb-2">프로젝트(Project)</div>
    <h3 class="h5 fw-bold mb-2">{{ project.name }}</h3>
    <div class="flex-grow-1">
      <p class="text-secondary mb-3">{{ project.summary }}</p>
      {% if show_detail and project.details %}
        <div class="mb-3">
          <div class="small text-secondary mb-2">프로젝트 설명(Detail)</div>
          <ul class="small text-secondary mb-0 ps-3">
            {% for line in project.details %}
              <li>{{ line }}</li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}
      {% if show_detail and project.highlights %}
        <div class="mb-3">
          <div class="small text-secondary mb-2">사용 기술 5줄 요약</div>
          <ul class="small text-secondary mb-0 ps-3">
            {% for line in project.highlights %}
              <li>{{ line }}</li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}
      {% if show_detail and project.note %}
        <div class="small text-secondary mb-3">{{ project.note }}</div>
      {% endif %}
    </div>
    <div class="mb-3">
      <div class="small text-secondary mb-2">기술 스택(Tech Stack)</div>
      <div class="d-flex flex-wrap gap-2">
        {% for tech in project.tech_stack %}
          <span class="badge badge-skill">{{ tech }}</span>
        {% endfor %}
      </div>
    </div>
    {% if show_detail and project.usage_items %}
      <div class="mb-3">
        <div class="small text-secondary mb-2">
          {% if project.usage_title %}
            {{ project.usage_title }}
          {% elif project.usage_type == "tool" %}
            도구 사용 비중
          {% elif project.usage_type == "language" %}
            언어 사용 비중
          {% else %}
            사용 비중
          {% endif %}
        </div>
        <div class="d-grid gap-3">
          {% for item in project.usage_items %}
            <div>
              <div class="d-flex justify-content-between small mb-2">
                <span class="fw-semibold">{{ item.label }}</span>
                <span class="text-secondary">{{ item.percent }}%</span>
              </div>
              <div class="chart-track">
                <div class="chart-fill accent" style="width: {{ item.percent }}%"></div>
              </div>
              {% if item.note %}
                <div class="small text-secondary mt-1">{{ item.note }}</div>
              {% endif %}
            </div>
          {% endfor %}
        </div>
      </div>
    {% endif %}
    {% if project.link %}
      <a class="btn btn-sm btn-outline-primary mt-auto" href="{{ project.link }}" target="_blank" rel="noopener">링크(Link)</a>
    {% else %}
      <div class="mt-auto small text-secondary">링크 준비중</div>
    {% endif %}
  </div>
</div>
